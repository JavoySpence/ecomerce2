<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHOPPING CART</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="scss/_utilities.scss.">
    <link rel="stylesheet" href="public/styles2.css">
</head>
<body>
    <h1 style="background-color:#93D51E ; color: white;"><div style="margin-left: 30rem;">SHOPPING CART</div></h1>
    <table class="table">
        <thead class="table-dark">
            <tr>
                <th>ID</th> 
                <th>ITEM NAME</th>
                <th>QUANTITY</th>
                <th>PRICE</th>
                <th>ACTION</th>
            </tr>
        </thead>
        <tbody>
            <% if (data.length > 0) { %>
                <% let total = 0; %>
                <% for (let i = 0; i < data.length; i++) { %>
                    <tr>
                        <td><%= data[i].id %></td>
                        <td><%= data[i].item_name %></td>
                        <td><%= data[i].quantity %></td>
                        <td><%= data[i].price %></td>
                        <td>
                            <button  class="btn btn-primary" onclick="window.location.href = '/deleteSingleItem/<%= data[i].id %>'">DELETE</button>

                        </td>
                    </tr>
                    <% total += parseFloat(data[i].price); %>
                <% } %>
                <tr>
                    <td colspan="3" style="text-align: right;">Total</td>
                    <td><%= total.toFixed(2) %></td> 
                </tr>
            <% } else { %>
                <tr>
                    <td colspan="4">No data found</td>
                </tr>
            <% } %>
        </tbody>
    </table>
</body>
</html>